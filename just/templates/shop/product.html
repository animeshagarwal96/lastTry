{% extends 'shop/base.html' %}
{% block title %}{{product.0.product_name}}{% endblock %}
{% block css %}
/**
 * Pen Resets
 */

* {
  margin: 0;
  padding: 0;
}

html {
  box-sizing: border-box;
}

.carousel-item {
  width: 100%
}

.price span {
  font-size: 18px
}

.cut {
  text-decoration: line-through;
  color: red
}

.icons i {
  font-size: 17px;
  color: green;
  margin-right: 2px
}

.offers i {
  color: green
}

.delivery i {
  color: blue
}

label.radio {
  cursor: pointer
}

label.radio input {
  position: absolute;
  top: 0;
  left: 0;
  visibility: hidden;
  pointer-events: none
}

label.radio span {
  padding: 2px 11px;
  margin-right: 3px;
  border: 1px solid #8f37aa;
  display: inline-block;
  color: #8f37aa;
  border-radius: 3px;
  text-transform: uppercase
}

label.radio input:checked+span {
  border-color: #8f37aa;
  background-color: #8f37aa;
  color: #fff
}

  

  .card{
    background-color: #ffffff;
	  background-image: linear-gradient(315deg, #ffffff 0%, #d7e1ec 74%);
	  margin:10px;
  }
  .heading{
    font-style:italic;
    padding:5px;
    letter-spacing:1px;
    font-weight:solid;
  }
  #contact {
    width: 100%;
    height: auto;
    background-color: #e6b58f;
  }
  
  #contact .container {
    width: 80%;
    margin: 0 auto;
    display: block;
    padding-bottom: 2rem;
    text-transform: capitalize;
  }
  
  #contact .container h4 {
    font-family: "Franklin Gothic Medium";
    color: #ffffff;
    font-size: 1.125rem;
    font-weight: 400;
    letter-spacing: 0.056rem;
    text-align: center;
    text-transform: uppercase;
    padding-top: 3rem;
    padding-bottom: 2rem;
  }
  
  #contact .container p {
    font-family: Cambria;
    color: #ffffff;
    font-size: 0.875rem;
    font-weight: 400;
    letter-spacing: 0.044rem;
    text-align: center;
    padding: 0.2rem 0rem;
  }
  
  #contact .container p.email {
    margin: 0 auto;
    margin-top: 16rem;
    border-bottom: 1px solid white;
    text-align: left;
    width: 40%;
  }
  
  #contact .container p.email span {
    width: 17px;
    height: 15px;
    float: right;
  }
  
  #contact .container p.email span img {
    width: 17px;
    height: auto;
  }
  
  @media only screen and (max-width: 800px) {
    #contact .container p.email {
      width: 90%;
    }
  }
  .back-to-top {
    padding: 1rem;
    position: fixed;
    bottom: 8%;
    right: 2%;
    z-index: 2;
    opacity: 0.2;
    background-color: rgba(255, 255, 255, 0);
  }
  
  .back-to-top:hover {
    -webkit-box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.2);
    box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.2);
    background-color: rgba(255, 255, 255, 0.4);
    opacity: 1;
  }  

  <!--
    comments
  -->
  .content-item {
    padding:30px 0;
	background-color:#FFFFFF;
}

.content-item.grey {
	background-color:#F0F0F0;
	padding:50px 0;
	height:100%;
}

.content-item h2 {
	font-weight:700;
	font-size:35px;
	line-height:45px;
	text-transform:uppercase;
	margin:20px 0;
}

.content-item h3 {
	font-weight:400;
	font-size:20px;
	color:#555555;
	margin:10px 0 15px;
	padding:0;
}

.content-headline {
	height:1px;
	text-align:center;
	margin:20px 0 70px;
}

.content-headline h2 {
	background-color:#FFFFFF;
	display:inline-block;
	margin:-20px auto 0;
	padding:0 20px;
}

.grey .content-headline h2 {
	background-color:#F0F0F0;
}

.content-headline h3 {
	font-size:14px;
	color:#AAAAAA;
	display:block;
}


#comments {
	background-color:#FFFFFF;
}

#comments form {
	margin-bottom:30px;
}

#comments .btn {
	margin-top:7px;
}

#comments form fieldset {
	clear:both;
}

#comments form textarea {
	height:100px;
}

#comments .media {
	padding:20px 0;
	margin:0;
}

#comments .media > .pull-left {
    margin-right:20px;
}

#comments .media img {
	max-width:100px;
}

#comments .media h4 {
	margin:0 0 10px;
}

#comments .media h4 span {
	font-size:14px;
	float:right;
	color:#999999;
}

#comments .media p {
	margin-bottom:15px;
	text-align:justify;
}

#comments .media-detail {
	margin:0;
}

#comments .media-detail li {
	color:#AAAAAA;
	font-size:12px;
	padding-right: 10px;
	font-weight:600;
}

#comments .media-detail a:hover {
	text-decoration:underline;
}

#comments .media-detail li:last-child {
	padding-right:0;
}

#comments .media-detail li i {
	color:#666666;
	font-size:15px;
	margin-right:10px;
}
.round img {
  border-radius: 10%;
}


.img-wrap {
	border-radius: 0.2rem 0.2rem 0 0;
	height: 220px
  }
  
  .img-wrap {
	overflow: hidden
  }
  
  .img-wrap {
	height: 280px
  }
  
  .img-wrap {
	border-radius: 0.2rem 0.2rem 0 0;
	height: 275px;
	padding: 16px
  }
  
	.img-wrap img {
	height: 100%;
	max-width: 100%;
	width: auto;
	display: inline-block;
	-o-object-fit: cover;
	object-fit: cover
  }
  
  .img-wrap {
	text-align: center;
	display: block
  }
{% endblock %}
{% block body %}
<div class="container-fluid mt-5">
  <div class="row">
      <div class="col-md-5">
          <div class="carousel slide" data-ride="carousel" id="carousel-1">
              <div class="carousel-inner" role="listbox">
                  <div class="carousel-item active"><img class="img-thumbnail w-100 d-block" src="/media/{{product.0.image}}" alt="Slide Image" loading="lazy"></div>
                  {% if product.0.image1 %}
                  <div class="carousel-item"><img class="img-thumbnail w-100 d-block" src="/media/{{product.0.image1}}" alt="Slide Image"></div>
                  {% endif %}
                  {% if product.0.image2 %}
                  <div class="carousel-item"><img class="img-thumbnail w-100 d-block" src="/media/{{product.0.image2}}" alt="Slide Image"></div>
                  {% endif %}
                  {% if product.0.image3 %}
                  <div class="carousel-item"><img class="img-thumbnail w-100 d-block" src="/media/{{product.0.image3}}" alt="Slide Image"></div>
                  {% endif %}
                  {% if product.0.image4 %}
                  <div class="carousel-item"><img class="img-thumbnail w-100 d-block" src="/media/{{product.0.image4}}" alt="Slide Image"></div>
                  {% endif %}
              </div>
              <div><a class="carousel-control-prev" href="#carousel-1" role="button" data-slide="prev"><span class="carousel-control-prev-icon"></span><span class="sr-only">Previous</span></a><a class="carousel-control-next" href="#carousel-1" role="button" data-slide="next"><span class="carousel-control-next-icon"></span><span class="sr-only">Next</span></a></div>
              <ol class="carousel-indicators">
                  <li data-target="#carousel-1" data-slide-to="0" class="active"></li>
                  {% if product.0.image1 %}
                  <li data-target="#carousel-1" data-slide-to="1"></li>
                  {% endif %}
                  {% if product.0.image2 %}
                  <li data-target="#carousel-1" data-slide-to="2"></li>
                  {% endif %}
                  {% if product.0.image3 %}
                  <li data-target="#carousel-1" data-slide-to="3"></li>
                  {% endif %}
                  {% if product.0.image4 %}
                  <li data-target="#carousel-1" data-slide-to="4"></li>
                  {% endif %}
                  
              </ol>
          </div>
      </div>
      <div class="col-md-7">
          <h4>{{product.0.product_name}}</h4>
          <div class="price"><span class="mr-2"><i class="fa fa-rupee text-success"></i>&nbsp;{{product.0.product_price}}</span>
            <!-- <span class="mr-2 cut">65,000</span><span class="text-success">25% OFF</span> -->
          </div>
          <div class="d-flex flex-row">
              <div class="icons mr-2"><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa fa-star"></i><i class="fa fa-star-o"></i></div>
          </div>
          <div class="d-flex align-items-center mt-4 offers mb-1"><i class="fa fa-check-square-o mt-1"></i><span class="ml-1 font-weight-bold">Manufactured</span><span class="ml-1 my-2">{{product.0.manufacturer_detail}}<br></span></div>
          <div class="d-flex align-items-center offers mb-1"><i class="fa fa-check-square-o mt-1"></i><span class="ml-1 font-weight-bold">Warrany Period</span><span class="ml-1 my-2">{{product.0.warranty_period}}<br></span></div>
          <div class="d-flex align-items-center offers"><i class="fa fa-check-square-o mt-1"></i><span class="ml-1 font-weight-bold">Refund Policy</span><span class="ml-1 my-2">{{product.0.rufundable}}<br></span></div>
          <div class="d-flex align-items-center offers"><span class="ml-1 font-weight-bold">Description: </span><span class="ml-1 my-2">{{product.0.desc}}<br></span></div>
          <div class="d-flex align-items-center mt-5 delivery"><i class="fa fa-map-marker"></i><span class="ml-2">Delivery by {{delivery_date}}<br></span><span class="ml-2 mr-2">|<br></span><span class="ml-2 mr-2 text-success">FREE<br></span></div>
          <hr>
          <div class="d-flex align-items-center mt-2"></div>
          <div><span class="font-weight-bold">Seller:</span><span class="ml-2">{{product.0.seller_name}}</span></div>
          <div class="mt-3"><a href="/checkout/{{product.0.product_id}}" class="btn btn-success">BUY NOW</a></div>
      </div>
  </div>
</div>

  <div class="album py-5">
    <div class="container mt-5 mb-5"">
      <h1 style="text-align:center;" class="heading">You May Also Like</h1>
      <div class="row">
        {% for i in products %}
        <div class="col-xs-4 col-sm-4 col-md-4 tune">
          <div class="card">
            <div class="view overlay">
              <a href="/product/{{i.product_id}}">
                <div class="mask">
                  <img class="img-fluid img-wrap w-100"
                    src="/media/{{i.image}}">
                  <div class="mask rgba-black-slight"></div>
                </div>
              </a>
            </div>

            <div class="card-body text-center">
              <h5>{{i.product_name}}</h5>
              <p class="small text-muted text-uppercase mb-2">{{i.subcategory}}</p>
              <hr>
              <h6 class="mb-3">
                <span class="text-primary mr-1">₹{{i.product_price}}</span>
              </h6>
            </div>

          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>

  <!-- Comments -->
  {% load humanize %}
  <div class="container">
    <h2>All Reviews for {{product.0.product_name}}</h2>
    {% if user.is_authenticated %}
    <form action="/postcomment" method="post">   
      <div class="form-group">
        <label for="comment">Post Review</label>
        {% if comments.count == 0 %}
        <input type="text" class="form-control" id="comment" name="comment" placeholder="Be the first to post a review about this product">
        {% else %}
        <input type="text" class="form-control" id="comment" name="comment" placeholder="Post review here">
        {% endif %}
        <input type="hidden" name="product_id" value="{{product.0.product_id}}">
      </div>
      {% csrf_token %}
      <button type="submit" class="btn btn-primary my-1">Post</button>
    </form>
    {% else %}
    <div class="alert alert-warning col-12" role="alert">
      Please login first to post a review
    </div>
    {% endif %}
    <h3>{{comments.count}} Reviews</h3>
    {% for comment in comments %}
    <section class="content-item" id="comments"> 
      <div class="container">
        <div class="row">
          <div class="col-sm-8">   
            <div class="media">
              <div class="p-2"><span class="round"><img src="/media/shop/images/user.png" class="border border-dark" alt="user" width="50"></span></div>
                <div class="media-body">
                    <h4 class="media-heading">{{comment.user.first_name}}</h4>
                    <p>{{comment.comments}}</p>
                    <ul class="list-unstyled list-inline media-detail pull-left">
                        <li><i class="fa fa-calendar"></i>{{comment.timezone}}</li>
                        <span class="badge badge-secondary">{{comment.timezone | naturaltime}}</span>
                    </ul>
                </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    {% endfor %}
  </div>
  <section id="contact">
    <div class="container">
      <h4>contact us</h4>
      <p>justclicknpick1@gmail.com</p>
      <p class="email">emailus <span><img src="https://res.cloudinary.com/de8cuyd0n/image/upload/v1520412541/E-commerce%20landing%20page/icons/get_in_touch_1x.png" alt="email-image"></span></p>
    </div>
  </section>
  <div class="back-to-top"><a href="#"> <img title="JC&P." width="50" height="50" src="/media/shop/images/logo_2.png" alt="JC&P"></a> </div>
  
  {% block js %}
    <script>
      $(document).ready(function() {
      $('.color-choose input').on('click', function() {
          var headphonesColor = $(this).attr('data-image');

          $('.active').removeClass('active');
          $('.left-column img[data-image = ' + headphonesColor + ']').addClass('active');
          $(this).addClass('active');
      });
      });
      function myFunction(imgs) {
      var expandImg = document.getElementById("expandedImg");
      expandImg.src = imgs.src;
      expandImg.parentElement.style.display = "block";
      }
      
      //Image Zoomer
    </script>
    <script>
      $(".thumbLink").click(function(event) {        
        var image = $(this).attr("rel");
        $(".thumbLink").removeClass('active');
        $( this ).addClass( "active" );
        $('.main-pimage').hide();
        $('.main-pimage').fadeIn('slow');
        $('.main-pimage').html('<img src="' + image + '" class="custom img-fluid mx-auto d-block"/>');
        return false;
    });

    $("#next").click(function(event) {        
        $(".thumbLink.active").parent().next().find(".thumbLink").trigger('click');
    });

    $("#prev").click(function(event) {        
        $(".thumbLink.active").parent().prev().find(".thumbLink").trigger('click');
    });
    </script>
   {% endblock %}
  {% endblock %}